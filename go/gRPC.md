# gRPC - go
<!-- TOC -->

- [gRPC - go](#grpc---go)
    - [RPC 란?](#rpc-%EB%9E%80)
        - [통신 방식](#%ED%86%B5%EC%8B%A0-%EB%B0%A9%EC%8B%9D)
        - [특징](#%ED%8A%B9%EC%A7%95)
        - [사용 목적](#%EC%82%AC%EC%9A%A9-%EB%AA%A9%EC%A0%81)
    - [gRPC](#grpc)
        - [Protocol Buffer](#protocol-buffer)
        - [장점](#%EC%9E%A5%EC%A0%90)
    - [구현](#%EA%B5%AC%ED%98%84)
        - [Proto 파일 작성](#proto-%ED%8C%8C%EC%9D%BC-%EC%9E%91%EC%84%B1)

<!-- /TOC -->

<br>

## RPC 란?

> RPC는 Remote Procedure Call 의 약자로, 클라이언트 애플리케이션이 원격 서버의 프로시저나 메서드를 로컬 함수 호출처럼 호출할 수 있도록 분산 시스템에서 사용되는 통신 프로토콜

### 통신 방식

- RPC 시스템에서 클라이언트는 호출할 프로시저의 이름과 전달할 인수가 포함된 요청을 서버로 전송
- 서버는 프로시저를 실행하고 결과를 클라이언트로 다시 전달
    - 개발자는 네트워크 통신의 세부 사항에 대해 걱정할 필요없이 원격 시스템에서 함수를 호출하는 코드를 작성할 수 있으므로 분산 시스템을 쉽게 구축

### 특징

- RPC 시스템은 HTTP, TCP, UDP 등 다양한 전송 프로토콜을 사용 가능
    - 프로토콜 선택은 성능, 안정성, 보안 등 요구 사항에 따라 달라짐

- RPC 는 분산 데이터베이스, 메시징 시스템, 웹 서비스 등 다양한 애플리케이션에서 사용

> 대량의 트래픽과 분산 워크로드를 처리할 수 있는 확장 가능하고, 내결함성 있는 시스템을 구축하기 위한 강력한 도구다.

### 사용 목적

1. 추상화
    - 개발자가 로컬 애플리케이션을 작성하는 것과 유사한 방식으로 분산시스템을 작성
2. 서로 다른 언어로 작성되고, 서로 다른 플랫폼에서 실행되는 시스템간에 통신이 가능
3. 대량의 트래픽과 분산된 워크로드를 처리할 수 있는 분산 시스템 구축
4. 관심사의 분리

<br>

## gRPC

> google 에서 개발한 고성능 오픈 소스 원격 프로시저 호출(RPC) 프레임워크

### `Protocol Buffer`

> 클라이언트와 서버 간에 메시지를 교환하기 위한 기본 형식

- 구조화된 데이터를 직렬화하기 위한 언어 및 플랫폼 중립적인 매커니즘을 제공
- RPC 인터페이스에 대한 메서드 및 매개변수를 정의

### 장점

- 양방향 스트리밍을 지원하여 클라이언트와 서버가 동시에 메시지 전달 가능
- 흐름 제어를 지원하여 클라이언트와 서버가 너무 많은 요청이나 응답으로 인한 과부하 방지
- HTTP 2 를 이용
    - 멀티플렉싱을 지원하여 단일 연결을 통해 여러 요청과 응답을 전송할 수 있으며 헤더 압축을 통해 전송해야 하는 데이터의 양을 줄일 수 있습니다.
        - 멀티플렉싱 : 단일 연결을 통해 여러 데이터 스트림을 전송할 수 있는 네트워킹 기술
    - 서버에 리소스가 요청되기 전에 서버가 클라이언트에 리소스를 전달할 수 있다.

<br>

## 구현

### Proto 파일 작성

### Post 서버

> Post 서버의 역할은 개별적인 서버에서 프로시저로 작동하는 형태다. 즉 클라이언트가 요청을 봰면, Post 서버에서 독립적으로 돌아가는 서버에 연결해서 데이터를 주고받는 형태